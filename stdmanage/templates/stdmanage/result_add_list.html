{% extends 'stdmanage/base.html' %}
    
  {% block title %}Add Result of Students{% endblock title %}
  {% block body %}
    
  <div class="container">
    
    <div class="row">
      <div class="col-12 col-md-10">
        <h3>Add Result of Students</h3> 
      </div>
    </div>
    {% comment %} 'result-add-list/<str:exam>/<str:subject>/<str:reading_class>/<int:row_limit>/<int:page_no>/' {% endcomment %}
    <form action="{%url 'stdmanage:result-add-list-basic' %}" method="post">
      {% csrf_token %}
      <div class="row">
        
        
        <div class="col-6 col-md-3 my-1">
            <select name="exam" class="form-select" aria-label="Default select example">
              <option>Select Exam</option>
              {% for i in all_exams %}
                {% if i.name == exam %}
                
                  <option selected value="{{i.name}}">{{i.name}}</option>
                
                  {% else %}
                
                  <option value="{{i.name}}">{{i.name}}</option>
          
                {% endif %}
                              
              {% endfor %}
            </select>
        </div>

        <div class="col-6 col-md-2 my-1">
            <select name="subject" class="form-select" aria-label="Default select example">
              <option>Select Subject</option>
              {% for i in all_subjects %}
                {% if i.name == subject %}
                
                  <option selected value="{{i.name}}">{{i.name}}</option>
                
                  {% else %}
                
                  <option value="{{i.name}}">{{i.name}}</option>
          
                {% endif %}
                              
              {% endfor %}
            </select>
        </div>
          

        <div class="col-6 col-md-2 my-1">
          <select name="reading_class" class="form-select" aria-label="Default select example">
            <option value = "all" >all</option>
            {% for i in all_reading_class %}
              {% if i.name == reading_class %}
              
                <option selected value="{{i.name}}">{{i.name}}</option>
              
                {% else %}
              
                <option value="{{i.name}}">{{i.name}}</option>
        
              {% endif %}
                            
            {% endfor %}
          </select>
        </div>
        
        <div class="col-6 col-md-1 my-1">
          <select name="row_limit" default='5' class="form-select" aria-label="Default select example">
            <option selected value = "{{row_limit}}" >{{row_limit}}</option>
            <option value="3">3</option>
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="50">50</option>
          </select>
        </div>
        <div class="col-12 col-md-2 my-1">
          <button class="btn btn-secondary">Set Params</button>
        </div>        
      </div>
    </form> 
    
    <div class="row">
      <div class="col-md-10 col-sm-12 my-1">
        <table class="table table-striped table-bordered">
          <thead class="table-dark">
            <tr>
              <th>
                Student ID
              </th>
              <th>
                Name
              </th>
              <th>
                Class
              </th>
              <th>
                Link
              </th>
            </tr>
          </thead>
          <tbody>
            {% for student in student_list %}
              <tr>
                <td>
                  {{student.id}}
                </td>
                <td>
                  <a href="{%url 'stdmanage:student-detail' student.id%}">{{student.full_name}}</a>
                </td>
                <td>
                  {{student.reading_class}}
                </td>
                <td>
                    {% comment %} 'result-create/<str:exam>/<str:subject>/<int:student>' {% endcomment %}
                  <a href="{%url 'stdmanage:result-create' exam subject student.id%}" target="_blank">
                      <button class="btn btn-secondary">Add Result</button>
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
    
        </table>
      </div>
    </div>
    
    <div class="row">
      <div class="col">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link" href="{%url 'stdmanage:student-list' reading_class row_limit prev_current_next.0 %}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            
            {% for i in assign_page_no %}
              {% if i == prev_current_next.1 %}
                <li class="page-item"><a class="page-link active" href="{%url 'stdmanage:student-list' reading_class row_limit i %}">
              {% else %}
                <li class="page-item"><a class="page-link" href="{%url 'stdmanage:student-list' reading_class row_limit i %}">   
              {% endif %}
            {{i}}
            </a></li>
            {% endfor %}
            
            <li class="page-item">
              <a class="page-link" href="{%url 'stdmanage:student-list' reading_class row_limit prev_current_next.2 %}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>


    
  </div>

  {% endblock body %}
